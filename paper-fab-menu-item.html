<link rel="import" href="../polymer/polymer.html">

<dom-module id="paper-fab-menu-item">
  <template>
    <style is="custom-style">
      :host .menu-item {
        position: relative;
      }

      :host {
        flex: 1;
        margin: 7px;
      }

      :host .menu-item paper-fab ::content iron-icon {
        transform: rotate(0deg) !important;
      }

      :host .menu-item {
        transform: scale(0);
      }
    </style>
    <div class="menu-item">
      <paper-fab data-value="[[label]]" on-click="_fireClick" disabled="[[disabled]]" id="paperFab" mini icon="{{icon}}"></paper-fab>
      <paper-tooltip offset="0" margin-top="0" position="{{tooltipPosition}}">{{label}}</paper-tooltip>
    </div>
  </template>
  <script>
      Polymer({
        is: 'paper-fab-menu-item',
        properties: {
          color: String,
          tooltipPosition: {
            type: String,
            value: 'left'
          },
          disabled: {
            type: Boolean,
            value: false
          },
          label: String,
          icon: String
        },
        ready: function() {
          if(this.color) this.$.paperFab.style.backgroundColor = this.color;
        },
        _fireClick: function(e, detail) {
          var clickedItem = Polymer.dom(e).localTarget;
          var parent = Polymer.dom(clickedItem).parentNode;
          var tooltip = parent.querySelector('#tooltip');
          this.fire('fab-click', {clicked: tooltip.innerText.trim()});
        }
      });
  </script>
</dom-module>
